{% load static %}
{% load custom_filter %}
{% load cart %}
<!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
      <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
    />
      <link href='https://fonts.googleapis.com/css?family=Poppins' rel='stylesheet'>
       <link rel="shortcut icon" type="x-icon" href="https://i.ibb.co/Y34f0yV/icontaskbar.png">
       <link
      rel="stylesheet"
      type="text/css"
      href="{% static '/css/cartone.css' %}"
    />
    <title>Cart - Dope Futsal</title>
  </head>
  
  <body>

   <!-- Navigation Bar-->
   
    <nav class="navbar navbar-expand-lg navbar-light">
      <!-- Container wrapper -->
      <div class="container-fluid">
        <!-- Toggle button -->
        <button
          class="navbar-toggler"
          type="button"
          data-mdb-toggle="collapse"
          data-mdb-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <i class="fas fa-bars"></i>
        </button>
        <!-- Collapsible wrapper -->
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <!-- Navbar brand -->
          <a href="http://127.0.0.1:8000/" class="navbar-brand mt-2 mt-lg-0">
            <img
              src="https://i.ibb.co/RQn5crx/imgonline-com-ua-Replace-Color-x8-HOGnfek8b-M2-KAk-removebg-preview.png" 
              style="position: relative; left: 30%;"
              height="150"
              width="145"
              alt="Futsal Logo"
            />
          </a>
          <!-- Left links -->
          <ul class="navbar-nav mx-auto me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a href="http://127.0.0.1:8000/" class="nav-link" style="font-family: 'Anton', sans-serif; font-size: 40px; color: black; font-weight: 600;">DOPE FUTSAL</a>
            </li>
          </ul>

          <div class="fbinstaicon">
            <div class="fbinstabutton">
               <div class="icon">
                  <i class="fab fa-facebook-f"></i>
               </div>
               <a href="https://www.facebook.com/Brihaspati-Futsal-105102722128654" style="text-decoration: none;"><span>Facebook</span></a>
            </div>
            <div class="fbinstabutton">
               <div class="icon">
                  <i class="fab fa-instagram"></i>
               </div>
               <a href="https://www.instagram.com/brihaspati.futsal/" style="text-decoration: none;"><span>Instagram</span></a>
            </div>
         </div>                   
    </nav>
    <style>
      .fbinstaicon {
  margin-right: 20px;
}
.fbinstaicon .fbinstabutton {
  display: inline-block;
  height: 60px;
  width: 60px;
  margin: 0 5px;
  overflow: hidden;
  background: #fff;
  border-radius: 50px;
  cursor: pointer;
  box-shadow: 0px 10px 10px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease-out;
}
.fbinstaicon .fbinstabutton:hover {
  width: 175px;
}
.fbinstaicon .fbinstabutton .icon {
  display: inline-block;
  height: 60px;
  width: 60px;
  text-align: center;
  border-radius: 50px;
  box-sizing: border-box;
  line-height: 60px;
  transition: all 0.3s ease-out;
}
.fbinstaicon .fbinstabutton:nth-child(1):hover .icon {
  background: #4267b2;
}
.fbinstaicon .fbinstabutton:nth-child(2):hover .icon {
  background: #e1306c;
}
.fbinstaicon .fbinstabutton .icon i {
  font-size: 25px;
  line-height: 60px;
  transition: all 0.3s ease-out;
}
.fbinstaicon .fbinstabutton:hover .icon i {
  color: #fff;
}
.fbinstaicon .button span {
  font-size: 20px;
  font-weight: 500;
  line-height: 60px;
  margin-left: 10px;
  transition: all 0.3s ease-out;
}
.fbinstaicon .fbinstabutton:nth-child(1) span {
  color: #4267b2;
}
.fbinstaicon .fbinstabutton:nth-child(2) span {
  color: #e1306c;
}
    </style>

<div class="small-container cart-page">
    <p class="display-4 pl-4 ml-4" style="font-family: 'Poppins' , sans-serif; text-align: center;">Your Cart</p>
   
      <table>
        <tr>
          <th>Sno.</th>
          <th>Image</th>
          <th>Product</th>
          <th>Price</th>
          <th>Quantity</th>
          <th>Total</th>
        </tr>
        <tr>
          <tbody>
          {% for product in products %}
        <tr>
          <td>{{forloop.counter}}</td>
          <td>
            <img style="height: 70px" src="{{product.image.url}}" alt="" />
          </td>
          <td>{{product.name}}</td>
          <td>{{product.price|currency}}</td>
          <td>{{product|cart_quantity:request.session.cart}}</td>
          <td>{{product|price_total:request.session.cart|currency}}</td>
        </tr>
        {% endfor %}
        </tbody>
        <tfoot>
        <tr>
          <th colspan="4"></th>
          <th class="" colspan="">Total</th>
          <th>{{products|total_cart_price:request.session.cart|currency}}</th>
        </tr>
      </tfoot>
      </table>

    <div class="m-3 p-3">
      <a
        href="#"
        data-bs-toggle="modal"
        data-bs-target="#exampleModal"
        style="margin-left: 85%"
        class="btn btn-outline-info border rounded float-right col-lg-2"
        >Buy</a
      >
      
    </div>
    </div>
  </div>
</div>

<!-- Modal -->
<div
  class="modal fade"
  id="exampleModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Check Out Form</h5>
        <hr />
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <div class="m-2 p-3">
          <form action="/check-out" method="POST">
            {% csrf_token %}
               <div class="form-group">
              <label for="">Full Name</label>
              <input
                type="text"
                name="fullname"
                id=""
                class="form-control"
                placeholder=""
                aria-describedby="helpId"
                required
              />
            </div>
            <br>
            <div class="form-group">
              <label for="">Address</label>
              <input
                type="text"
                name="address"
                id=""
                class="form-control"
                placeholder=""
                aria-describedby="helpId"
                required
              />
            </div>
            <br />
            <div class="form-group">
              <label for="">Phone Number</label>
              <input
                type="text"
                name="phone"
                id=""
                class="form-control"
                placeholder=""
                aria-describedby="helpId"
                required
              />
            </div><br>
             <div class="form-group">
              <label for="">Email</label>
              <input
                type="text"
                name="email"
                id=""
                class="form-control"
                placeholder=""
                aria-describedby="helpId"
                required
              />
            </div>
            <br />
              <input
                type="submit"
                class="btn float-right btn-outline-info col-lg-3"
                value="Buy"
            />
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

